<%- include('../partials/admin-navbar') %>

<div class="container mx-auto my-10 max-w-lg">
  <h1 class="text-4xl font-bold mb-8 text-gray-800">Edit: <%= product.name %></h1>
  
  <% if (error_msg && error_msg.length > 0) { %>
    <div class="flash-error flash-message"><%= error_msg %></div>
  <% } %>

  <div class="bg-white p-8 rounded-lg shadow-2xl">
    <form action="/admin/products/edit/<%= product.product_id %>" method="POST" class="space-y-4">
      
      <label for="name" class="block font-semibold">Product Name</label>
      <input type="text" id="name" name="name" value="<%= product.name %>" required class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500">
      
      <label for="description" class="block font-semibold">Description</label>
      <textarea id="description" name="description" rows="4" required class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500"><%= product.description %></textarea>
      
      <div class="grid grid-cols-2 gap-4">
          <div>
              <label for="price" class="block font-semibold">Price ($)</label>
              <input type="number" id="price" name="price" step="0.01" min="0" value="<%= product.price %>" required class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500">
          </div>
          <div>
              <label for="stock" class="block font-semibold">Stock Quantity</label>
              <input type="number" id="stock" name="stock" min="0" value="<%= product.stock %>" required class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500">
          </div>
      </div>

      <label for="image" class="block font-semibold">Image URL (Optional)</label>
      <input type="url" id="image" name="image" value="<%= product.image || '' %>" class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500">
      
      <label for="category" class="block font-semibold">Category (Optional)</label>
      <input type="text" id="category" name="category" value="<%= product.category || '' %>" class="w-full border border-gray-300 p-3 rounded focus:ring-blue-500 focus:border-blue-500">

      <button type="submit" class="w-full btn-primary btn mt-6 bg-blue-600 hover:bg-blue-700">Save Changes</button>
    </form>

    <a href="/admin/products" class="block text-center mt-4 text-gray-600 hover:text-gray-800">‚Üê Back to Product List</a>
  </div>
</div>

<%- include('../../partials/footer') %>